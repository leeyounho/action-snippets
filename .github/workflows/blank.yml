---
name: TEST
on: workflow_dispatch
jobs:
  load-config:
    runs-on: ubuntu-latest
    outputs:
      matrix-json: ${{ steps.load-matrix.outputs.matrix-json }}
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
      - name: Load matrix from JSON file
        id: load-matrix
        run: |
          matrix_data=$(cat .github/workflows/config.json | jq -c .)
          echo "Loaded matrix data: $matrix_data" # 디버깅용 로그
          echo "matrix-json=MY_TEST_VALUE" >> $GITHUB_OUTPUT
  use-config:
    needs: load-config
    runs-on: ubuntu-latest
    steps:
      - name: Print matrix
        env:
          TESTOUTPUT: ${{ needs.load-config.matrix-json }}
        run: |
          echo "matrix-json: $TESTOUTPUT"
